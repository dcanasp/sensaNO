generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model article {
  id_article Int      @id @default(autoincrement())
  id_writer  Int
  id_text    Int
  id_image   Int
  title      String   @db.VarChar(45)
  date       DateTime @db.Date
  views      Int
  image      image    @relation(fields: [id_image], references: [id_image])
  text       text     @relation(fields: [id_text], references: [id_text])
  writer     user     @relation(fields: [id_writer], references: [id_user])
}

model article_has_categories {
  articles_id_article      Int
  categories_id_categories Int

  @@id([articles_id_article, categories_id_categories])
}

model categories {
  id_category Int    @id @default(autoincrement())
  cat_name    String @unique @db.VarChar(45)
}

model follower {
  id_follower  Int
  id_following Int

  @@id([id_follower, id_following])
}

model image {
  id_image Int       @id @default(autoincrement())
  base     String
  article  article[]
}

model saved {
  id_user    Int
  id_article Int
  date       String @db.VarChar(45)

  @@id([id_user, id_article])
}

model text {
  id_text Int       @id @default(autoincrement())
  content String
  article article[]
}

model trend_article {
  articles_id_article Int      @id
  title               String   @db.VarChar(45)
  base                String
  date                DateTime @db.Date
  author              String   @db.VarChar(45)
}

model trend_author {
  users_id_user Int    @id
  username      String @unique @db.VarChar(45)
  name          String @db.VarChar(45)
  lastname      String @db.VarChar(45)
  profession    String @db.VarChar(45)
}

model user {
  id_user     Int       @id @default(autoincrement())
  username    String    @unique 
  name        String    @db.VarChar(45)
  hash        String    
  lastname    String    @db.VarChar(45)
  rol         Int
  profession  String?   @db.VarChar(45)
  description String?   
  article     article[]
}
