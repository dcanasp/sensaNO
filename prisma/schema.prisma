generator client {
  provider = "prisma-client-js"
  // provider = "prisma-dbml-generator"//para sacar el sql de prisma
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model article {
  id_article Int      @id @default(autoincrement())
  id_writer  Int
  title      String   @db.VarChar(250)
  date       DateTime @db.Date
  views      Int
  text       String
  image_url   String
  writer     users     @relation(fields: [id_writer], references: [id_user], onDelete: Cascade)
}

model article_has_categories {
  articles_id_article      Int
  categories_id_categories Int

  @@id([articles_id_article, categories_id_categories])
}

model categories {
  id_category Int    @id @default(autoincrement())
  cat_name    String @unique @db.VarChar(45)
}

model follower {
  id_follower  Int
  id_following Int

  @@id([id_follower, id_following])
}

model saved {
  id_user    Int
  id_article Int
  date       String @db.VarChar(45)

  @@id([id_user, id_article])
}

model trend_article {
  articles_id_article Int      @id
  title               String   @db.VarChar(45)
  base                String
  date                DateTime @db.Date
  author              String   @db.VarChar(45)
}

model trend_author {
  users_id_user Int    @id
  username      String @unique @db.VarChar(45)
  name          String @db.VarChar(45)
  lastname      String @db.VarChar(45)
  profession    String @db.VarChar(45)
}

model users {
  id_user     Int       @id @default(autoincrement())
  username    String    @unique
  name        String    @db.VarChar(45)
  hash        String
  lastname    String    @db.VarChar(45)
  rol         Int
  profession  String?   @db.VarChar(45)
  description String?
  article     article[]
}
